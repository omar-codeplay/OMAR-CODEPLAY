<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Wait Page</title>
    <link rel="stylesheet" href="css/wait.css">
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-3758016323496227"
    crossorigin="anonymous"></script>
    <meta name="google-adsense-account" content="ca-pub-3758016323496227">
</head>
<body>
    <div class="wait-container">
        <h1>Please wait while we prepare your content...</h1>
        <p>You will be redirected in <span id="countdown">30</span> seconds.</p>
        <button id="start-button" style="display: none;">Go to Next Page</button>
    </div>

    <script>
        // Get the URL parameter
        // Retrieve the URL from local storage
       <!-- const nextPageUrl = localStorage.getItem('nextPageUrl');-->

        if (!nextPageUrl) {
            document.body.innerHTML = '<h1>Invalid URL</h1>';
            throw new Error('Invalid URL');
        }

        // Countdown timer
        let countdown = 0;
        const countdownElement = document.getElementById('countdown');
        const startButton = document.getElementById('start-button');
        let timer;

        function startTimer() {
            timer = setInterval(() => {
                countdown--;
                countdownElement.textContent = countdown;

                if (countdown <= 0) {
                    clearInterval(timer);
                    startButton.style.display = 'block'; // Show the button after countdown ends
                }
            }, 1000);
        }

        function stopTimer() {
            clearInterval(timer);
        }

        // Start the timer when the page is visible
        document.addEventListener('visibilitychange', function() {
            if (document.visibilityState === 'visible') {
                if (countdown > 0) {
                    startTimer();
                }
            } else {
                stopTimer();
            }
        });

        // Start the timer initially
        startTimer();

        // Redirect to the next page when the button is clicked
        startButton.addEventListener('click', function() {
            window.location.href = 'wait.html'; // Replace with the URL of the next page
        });
    </script>
</body>
</html>
