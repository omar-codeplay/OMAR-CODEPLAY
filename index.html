<!DOCTYPE html>
<html lang="en" dir="ltr" data-theme="dark">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>OmarCodePlay | Gaming & Programming</title>
  
  <meta name="description" content="OmarCodePlay - Where Gaming Meets Programming. Explore projects, tutorials, and articles about game development and programming.">
  <meta name="keywords" content="programming, gaming, game development, unity, web development, omar code play">
  <meta name="author" content="OmarCodePlay">
  <meta name="robots" content="index, follow">

  <meta property="og:title" content="OmarCodePlay - Gaming & Programming">
  <meta property="og:description" content="Where Gaming Meets Programming. Explore projects, tutorials, and articles.">
  <meta property="og:type" content="website">
  <meta property="og:url" content="https://omar-codeplay.netlify.app">
  <meta property="og:image" content="https://omarcodeplay.com/images/My LOGO.png">

  <link rel="manifest" href="manifest.json">
  <meta name="theme-color" content="#00aaff">
  <link rel="apple-touch-icon" href="images/My LOGO.png">
  
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;700&family=Cairo:wght@400;600;700&display=swap" rel="stylesheet">
  
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css">

  <link rel="stylesheet" href="style.css">
  
</head>

<body class="lang-en">
  
  <div class="progress-container">
    <div class="progress-bar" id="progressBar"></div>
  </div>
  
  <div class="theme-toggle" id="themeToggle">
    <i class="fas fa-moon"></i>
  </div>
  
  <div class="back-to-top" id="backToTop">
    <i class="fas fa-arrow-up"></i>
  </div>
  
  <div class="toast" id="toast">
    <i class="fas fa-check-circle"></i>
    <span id="toastMessage">Language changed successfully!</span>
  </div>
  
  <div class="parallax-bg"></div>
  
  <div class="floating-element floating-1"></div>
  <div class="floating-element floating-2"></div>
  <div class="floating-element floating-3"></div>
  
  <div class="particles" id="particles"></div>
  
  <header id="mainHeader">
    <div class="logo">
      <div class="logo-icon pulse">OCP</div>
      <h1>OmarCodePlay</h1>
    </div>
    <nav>
      <a href="#home" data-key="nav_home">Home</a>
      <a href="#about" data-key="nav_about">About</a>
      <a href="#projects" data-key="nav_projects">Projects</a>
      <a href="#courses" data-key="nav_courses">Courses</a>
      <a href="#articles" data-key="nav_articles">Articles</a>
      <a href="#contact" data-key="nav_contact">Contact</a>
      <a href="#" id="lang-switcher" data-key="nav_lang">عربي</a> 
    </nav>
  </header>

  <div class="main-title fade-in">
    <h1>OmarCodePlay</h1>
    <p data-key="home_subtitle">Where Gaming Meets Programming</p>
  </div>

  <section id="home">
    <h2 class="fade-in" data-key="home_title">Welcome to CodePlay</h2>
    <p class="fade-in delay-1" data-key="home_desc">
      Explore my projects, tutorials, and articles about <strong>gaming</strong> and <strong>programming</strong>.
      Join me on my journey to create, learn, and play.
    </p>
    <div class="cta-buttons fade-in delay-2">
      <a href="#projects" class="primary-button" data-key="btn_view_projects">View Projects</a>
      <a href="#contact" class="secondary-button" data-key="btn_contact_me">Contact Me</a>
    </div>
  </section>

  <section id="about">
    <div class="section-title">
      <h2 data-key="about_title">About Me</h2>
    </div>
    <div class="about-container">
      <div class="about-image fade-in float">
        <img src="images/MY LOGO.png" alt="OmarCodePlay Profile Picture">
      </div>
      <div class="about-text fade-in delay-1">
        <p data-key="about_p1">
          Hello! I'm Omar, a passionate developer and gamer who loves blending the two worlds. My journey started with a simple "Hello, World!" and quickly evolved into building custom game mechanics in Unity. We will spend our journey learning a new programing language like HTML , CSS , JS and Dart .
        </p>
        <p data-key="about_p2">
          This website is my digital playground—a place where I share my creations, document my learning process, and (hopefully) teach others a few things I've picked up along the way.
        </p>
        <p data-key="about_p3">
          Whether you're here to grab some code, learn a new skill, or just see what I'm up to, I'm glad to have you.
        </p>
        
        <div class="skills-list">
          <span class="skill-tag">HTML/CSS</span>
          <span class="skill-tag">JavaScript</span>
          <span class="skill-tag">Unity</span>
          <span class="skill-tag">Game Development</span>
          <span class="skill-tag">UI/UX Design</span>
        </div>
      </div>
    </div>
  </section>


  <section id="projects">
    <div class="section-title">
      <h2 data-key="projects_title">Projects</h2>
    </div>
    <div class="grid">
      <a href="pro5.html" class="fade-in">
        <div class="card" data-link-url="#project-taqyim">
          <img src="images/Untitled design_20251021_155417_0000.png" alt="Taqyim App Image">
          <div class="card-content">
            <h3 data-key="project1_title">Taqyim</h3>
            <p data-key="project1_desc">An App made by Java in Sketchware to Alert you when new Taqyim arrives.</p>
            <div class="card-footer">
              <span class="card-tag">Android</span>
              <span>Java</span>
            </div>
          </div>
        </div>
      </a>
      
      <a href="pro4.html" class="fade-in delay-1">
        <div class="card" data-link-url="#project-cp-color">
          <img src="images/Logo.jpg" alt="CP Color App Image">
          <div class="card-content">
            <h3 data-key="project2_title">CP Color</h3>
            <p data-key="project2_desc">An App to save the colors hex code to use it in the feature.</p>
            <div class="card-footer">
              <span class="card-tag">Android</span>
              <span>Java</span>
            </div>
          </div>
        </div>
      </a>
      
      <a href="pro3.html" class="fade-in delay-2">
        <div class="card" data-link-url="#project-recorder">
          <img src="images/recorder.webp" alt="Screen Recorder Website Image">
          <div class="card-content">
            <h3 data-key="project3_title">Screen Recorder</h3>
            <p data-key="project3_desc">A website to record screen 4k 240fps with no lag.</p>
            <div class="card-footer">
              <span class="card-tag">Web App</span>
              <span>JavaScript</span>
            </div>
          </div>
        </div>
      </a>
    </div>
    <div style="text-align: center; margin-top: 40px;">
        <a href="Games.html" class="primary-button fade-in delay-3" data-key="btn_more_projects">More Projects</a>
    </div>
  </section>

  <section id="courses">
    <div class="section-title">
      <h2 data-key="courses_title">Courses</h2>
    </div>
    <div class="grid">
      <a href="course1.html" class="fade-in">
        <div class="card" data-link-url="#course-html">
          <img src="images/studio_square_thumbnail.jpg" alt="Learn HTML & CSS Basics">
          <div class="card-content">
            <h3 data-key="course1_title">Learn HTML & CSS</h3>
            <p data-key="course1_desc">Perfect for beginners — understand core concepts and syntax.</p>
            <div class="card-footer">
              <span class="card-tag">Beginner</span>
              <span>Free</span>
            </div>
          </div>
        </div>
      </a>
      
      <a href="course2.html" class="fade-in delay-1">
        <div class="card" data-link-url="#course-unity">
          <img src="images/images.jpeg" alt="Game Dev with Unity">
          <div class="card-content">
            <h3 data-key="course2_title">Game Dev with Unity</h3>
            <p data-key="course2_desc">Create your first 3D game step by step, from idea to playtest.</p>
            <div class="card-footer">
              <span class="card-tag">Intermediate</span>
              <span>Free</span>
            </div>
          </div>
        </div>
      </a>
    </div>
    <div style="text-align: center; margin-top: 40px;">
        <a href="courses.html" class="primary-button fade-in delay-2" data-key="btn_more_courses">More Courses</a>
    </div>
  </section>

  <section id="articles">
    <div class="section-title">
      <h2 data-key="articles_title">Articles</h2>
    </div>
    <div class="grid">
      <a href="feature.html" class="fade-in">
        <div class="card" data-link-url="#article-first-game">
          <div class="card-content">
            <h3 data-key="article1_title">Beware of the feature</h3>
            <p data-key="article1_desc">The danger of using unclean energy.</p>
            <div class="card-footer">
              <span class="card-tag">Energy</span>
              <span>5 min read</span>
            </div>
          </div>
        </div>
      </a>
      
      <a href="article2.html" class="fade-in delay-1">
        <div class="card" data-link-url="#article-js-optimizing">
          <div class="card-content">
            <h3 data-key="article2_title">My journey</h3>
            <p data-key="article2_desc">How I started learning programing.</p>
            <div class="card-footer">
              <span class="card-tag">Programming</span>
              <span>7 min read</span>
            </div>
          </div>
        </div>
      </a>
    </div>
    <div style="text-align: center; margin-top: 40px;">
        <a href="articles.html" class="primary-button fade-in delay-2" data-key="btn_more_articles">More Articles</a>
    </div>
  </section>

  <section id="contact">
    <div class="section-title">
      <h2 data-key="contact_title">Contact & Socials</h2>
    </div>
    <p data-key="contact_desc">Connect with me or follow my work on these platforms:</p>
    <div class="social-links">
      <a href="https://github.com/omar-codeplay" target="_blank" aria-label="GitHub"><i class="fab fa-github"></i></a>
      <a href="https://discord.gg/e56xRbgF" target="_blank" aria-label="Discord"><i class="fab fa-discord"></i></a>
      <a href="https://youtube.com/@omar_codeplay" target="_blank" aria-label="YouTube"><i class="fab fa-youtube"></i></a>
    </div>
  </section>

  <footer>
    <p data-key="footer_text">© 2025 OmarCodePlay — Gaming & Programming</p>
  </footer>

  
  <script>
    const translations = {
      "en": {
        "nav_home": "Home",
        "nav_about": "About",
        "nav_projects": "Projects",
        "nav_courses": "Courses",
        "nav_articles": "Articles",
        "nav_contact": "Contact",
        "nav_lang": "عربي",
        "home_subtitle": "Where Gaming Meets Programming",
        "home_title": "Welcome to CodePlay",
        "home_desc": "Explore my projects, tutorials, and articles about <strong>gaming</strong> and <strong>programming</strong>. Join me on my journey to create, learn, and play.",
        "btn_view_projects": "View Projects",
        "btn_contact_me": "Contact Me",
        "about_title": "About Me",
        "about_p1": "Hello! I'm Omar, a passionate developer and gamer who loves blending the two worlds. My journey started with a simple \"Hello, World!\" and quickly evolved into building custom game mechanics in Unity. We will spend our journey learning a new programing language like HTML , CSS , JS and Dart .",
        "about_p2": "This website is my digital playground—a place where I share my creations, document my learning process, and (hopefully) teach others a few things I've picked up along the way.",
        "about_p3": "Whether you're here to grab some code, learn a new skill, or just see what I'm up to, I'm glad to have you.",
        "projects_title": "Projects",
        "project1_title": "Taqyim",
        "project1_desc": "An App made by Java in Sketchware to Alert you when new Taqyim arrives.",
        "project2_title": "CP Color",
        "project2_desc": "An App to save the colors hex code to use it in the feature.",
        "project3_title": "Screen Recorder",
        "project3_desc": "A website to record screen 4k 240fps with no lag.",
        "courses_title": "Courses",
        "course1_title": "Learn HTML & CSS",
        "course1_desc": "Perfect for beginners — understand core concepts and syntax.",
        "course2_title": "Game Dev with Unity",
        "course2_desc": "Create your first 3D game step by step, from idea to playtest.",
        "articles_title": "Articles",
        "article1_title": "Beware of the feature",
        "article1_desc": "The danger of using unclean energy.",
        "article2_title": "My journey",
        "article2_desc": "How I started learning programing.",
        "contact_title": "Contact & Socials",
        "contact_desc": "Connect with me or follow my work on these platforms:",
        "footer_text": "© 2025 OmarCodePlay — Gaming & Programming",
        "btn_more_projects": "More Projects",
        "btn_more_courses": "More Courses",   
        "btn_more_articles": "More Articles",
        "toast_lang": "Language changed successfully!",
        "toast_theme": "Theme changed successfully!"
      },
      "ar": {
        "nav_home": "الرئيسية",
        "nav_about": "نبذة عني",
        "nav_projects": "المشاريع",
        "nav_courses": "الكورسات",
        "nav_articles": "المقالات",
        "nav_contact": "تواصل معي",
        "nav_lang": "English",
        "home_subtitle": "حيث تلتقي الألعاب بالبرمجة",
        "home_title": "أهلاً بك في CodePlay",
        "home_desc": "استكشف مشاريعي، دروسي، ومقالاتي حول <strong>الألعاب</strong> و <strong>البرمجة</strong>. انضم إلي في رحلتي للإبداع، التعلم، واللعب.",
        "btn_view_projects": "عرض المشاريع",
        "btn_contact_me": "تواصل معي",
        "about_title": "نبذة عني",
        "about_p1": "مرحباً! أنا عمر، مطور ولاعب شغوف أحب المزج بين العالمين. بدأت رحلتي بـ \"Hello, World!\" بسيطة وتطورت سريعاً لبناء آليات ألعاب مخصصة في Unity. سنقضي رحلتنا في تعلم لغات برمجة جديدة مثل HTML و CSS و JS و Dart.",
        "about_p2": "هذا الموقع هو ملعبي الرقمي، مكان أشارك فيه إبداعاتي، وأوثق عملية تعلمي، وآمل أن أُعلّم الآخرين بعض الأشياء التي اكتسبتها على طول الطريق.",
        "about_p3": "سواء كنت هنا للحصول على كود، أو لتعلم مهارة جديدة، أو لمجرد رؤية ما أفعله، أنا سعيد بوجودك.",
        "projects_title": "المشاريع",
        "project1_title": "تـقـيـيـم",
        "project1_desc": "تطبيق مصنوع بلغة Java في Sketchware لتنبيهك بوصول تقييمات جديدة.",
        "project2_title": "CP Color",
        "project2_desc": "تطبيق لحفظ أكواد الألوان السداسية (Hex Code) لاستخدامها لاحقاً.",
        "project3_title": "مسجل الشاشة",
        "project3_desc": "موقع لتسجيل الشاشة بجودة 4K و 240 إطارًا في الثانية بدون تأخير.",
        "courses_title": "الكورسات",
        "course1_title": "تعلم أساسيات HTML و CSS",
        "course1_desc": "مثالي للمبتدئين — لفهم المفاهيم الأساسية وبناء الجملة.",
        "course2_title": "تطوير الألعاب بـ Unity",
        "course2_desc": "أنشئ لعبتك ثلاثية الأبعاد الأولى خطوة بخطوة، من الفكرة إلى الاختبار.",
        "articles_title": "المقالات",
        "article1_title": "احذر من المستقبل", 
        "article1_desc": "خطر استخدام الطاقة غير النظيفة.",
        "article2_title": "رحلتي",
        "article2_desc": "كيف بدأت تعلم البرمجة.",
        "contact_title": "تواصل معي",
        "contact_desc": "تواصل معي أو تابع أعمالي على هذه المنصات:",
        "footer_text": "© 2025 OmarCodePlay — ألعاب وبرمجة",
        "btn_more_projects": "المزيد من المشاريع", 
        "btn_more_courses": "المزيد من الكورسات",   
        "btn_more_articles": "المزيد من المقالات",
        "toast_lang": "تم تغيير اللغة بنجاح!",
        "toast_theme": "تم تغيير السمة بنجاح!"
      }
    };

    const langSwitcher = document.getElementById('lang-switcher');
    const htmlEl = document.documentElement;
    const bodyEl = document.body;
    const header = document.getElementById('mainHeader');
    const progressBar = document.getElementById('progressBar');
    const backToTop = document.getElementById('backToTop');
    const themeToggle = document.getElementById('themeToggle');
    const toast = document.getElementById('toast');
    const toastMessage = document.getElementById('toastMessage');
    const particlesContainer = document.getElementById('particles');
    const parallaxBg = document.querySelector('.parallax-bg');

    // ----------------------------------------------------
    // 1. نظام الألوان الفاتح/الداكن
    // ----------------------------------------------------
    function toggleTheme() {
      const currentTheme = htmlEl.getAttribute('data-theme');
      const newTheme = currentTheme === 'light' ? 'dark' : 'light';
      
      htmlEl.setAttribute('data-theme', newTheme);
      localStorage.setItem('theme', newTheme);
      
      // تحديث الأيقونة
      const themeIcon = themeToggle.querySelector('i');
      themeIcon.className = newTheme === 'dark' ? 'fas fa-moon' : 'fas fa-sun';
      
      showToast('toast_theme');
    }

    // التحقق من السمة المحفوظة
    (function checkStoredTheme() {
      const savedTheme = localStorage.getItem('theme') || 'dark';
      htmlEl.setAttribute('data-theme', savedTheme);
      
      // تحديث الأيقونة بناءً على السمة
      const themeIcon = themeToggle.querySelector('i');
      themeIcon.className = savedTheme === 'dark' ? 'fas fa-moon' : 'fas fa-sun';
    })();

    // ----------------------------------------------------
    // 2. العناصر العائمة المتفاعلة
    // ----------------------------------------------------
    function initFloatingElements() {
      const floatingElements = document.querySelectorAll('.floating-element');
      
      document.addEventListener('mousemove', (e) => {
        const mouseX = e.clientX / window.innerWidth;
        const mouseY = e.clientY / window.innerHeight;
        
        floatingElements.forEach((el, index) => {
          const speed = (index + 1) * 0.5;
          const x = (mouseX - 0.5) * 20 * speed;
          const y = (mouseY - 0.5) * 20 * speed;
          
          el.style.transform = `translate(${x}px, ${y}px)`;
        });
      });
    }

    // ----------------------------------------------------
    // 3. تأثير Parallax للخلفية
    // ----------------------------------------------------
    function initParallax() {
      window.addEventListener('scroll', () => {
        const scrolled = window.pageYOffset;
        const rate = scrolled * -0.5;
        
        if (parallaxBg) {
          parallaxBg.style.transform = `translate3d(0px, ${rate}px, 0px)`;
        }
      });
    }

    // ----------------------------------------------------
    // 4. تحسين تحميل الصور - إزالة Lazy Loading المعقد
    // ----------------------------------------------------
    function initImageLoading() {
      // إضافة تأثير تحميل بسيط للصور
      document.querySelectorAll('img').forEach(img => {
        // إذا كانت الصورة محملة بالفعل
        if (img.complete) {
          img.style.opacity = '1';
        } else {
          // إذا لم تكن محملة بعد، إضافة تأثير ظهور
          img.style.opacity = '0';
          img.style.transition = 'opacity 0.5s ease';
          img.onload = function() {
            this.style.opacity = '1';
          };
        }
      });
    }

    // ----------------------------------------------------
    // 5. Service Worker للتخزين المؤقت
    // ----------------------------------------------------
    function registerServiceWorker() {
      if ('serviceWorker' in navigator) {
        navigator.serviceWorker.register('/sw.js')
          .then(registration => {
            console.log('SW registered: ', registration);
          })
          .catch(registrationError => {
            console.log('SW registration failed: ', registrationError);
          });
      }
    }

    // ----------------------------------------------------
    // 6. الدالة الأساسية لتطبيق الترجمة
    // ----------------------------------------------------
    function applyLanguage(lang) {
        // Set the primary attributes on the <html> element
        htmlEl.setAttribute('lang', lang);
        htmlEl.setAttribute('dir', lang === 'ar' ? 'rtl' : 'ltr');
        
        // Set the class on the <body> element for CSS
        bodyEl.className = `lang-${lang}`;

        const elementsToTranslate = document.querySelectorAll('[data-key]');
        
        elementsToTranslate.forEach(el => {
            const key = el.getAttribute('data-key');
            const translation = translations[lang][key];
            
            if (translation) {
                // Using innerHTML handles the <strong> tag in home_desc
                el.innerHTML = translation; 
            }
        });
    }

    // ----------------------------------------------------
    // 7. الدالة المسؤولة عن تبديل وحفظ اللغة
    // ----------------------------------------------------
    function toggleLanguage() {
        const currentLang = htmlEl.getAttribute('lang');
        const newLang = currentLang === 'en' ? 'ar' : 'en';

        // تطبيق اللغة الجديدة
        applyLanguage(newLang);
        
        // حفظ اللغة الجديدة في التخزين المحلي
        localStorage.setItem('userLang', newLang);
        
        // Show toast notification
        showToast('toast_lang');
    }

    // ----------------------------------------------------
    // 8. التحقق عند تحميل الصفحة (تطبيق اللغة المحفوظة)
    // ----------------------------------------------------
    (function checkStoredLanguage() {
        // التحقق من وجود لغة محفوظة أو استخدام الافتراضية 'en'
        const storedLang = localStorage.getItem('userLang');
        const initialLang = storedLang || 'en';
        
        // تطبيق اللغة المحفوظة أو الافتراضية
        applyLanguage(initialLang);
        
        // Ensure the correct lang attribute is set initially
        htmlEl.setAttribute('lang', initialLang);
    })();

    // ----------------------------------------------------
    // 9. تأثير التمرير على الهيدر وشريط التقدم
    // ----------------------------------------------------
    window.addEventListener('scroll', () => {
        // Header scroll effect
        if (window.scrollY > 50) {
            header.classList.add('scrolled');
        } else {
            header.classList.remove('scrolled');
        }
        
        // Progress bar
        const winHeight = window.innerHeight;
        const docHeight = document.documentElement.scrollHeight;
        const scrollTop = window.pageYOffset;
        const scrollPercent = (scrollTop / (docHeight - winHeight)) * 100;
        progressBar.style.width = scrollPercent + '%';
        
        // Back to top button
        if (window.scrollY > 500) {
            backToTop.classList.add('visible');
        } else {
            backToTop.classList.remove('visible');
        }
    });

    // ----------------------------------------------------
    // 10. تأثيرات الظهور عند التمرير
    // ----------------------------------------------------
    function checkScroll() {
        const fadeElements = document.querySelectorAll('.fade-in');
        
        fadeElements.forEach(element => {
            const elementTop = element.getBoundingClientRect().top;
            const elementVisible = 150;
            
            if (elementTop < window.innerHeight - elementVisible) {
                element.style.opacity = "1";
                element.style.transform = "translateY(0)";
            }
        });
    }
    
    // Initialize elements with opacity 0 for animation
    document.querySelectorAll('.fade-in').forEach(el => {
        el.style.opacity = "0";
        el.style.transform = "translateY(30px)";
        el.style.transition = "opacity 0.8s ease, transform 0.8s ease";
    });
    
    window.addEventListener('scroll', checkScroll);
    window.addEventListener('load', checkScroll);

    // ----------------------------------------------------
    // 11. Back to Top functionality
    // ----------------------------------------------------
    backToTop.addEventListener('click', () => {
        window.scrollTo({
            top: 0,
            behavior: 'smooth'
        });
    });

    // ----------------------------------------------------
    // 12. Toast Notification functionality
    // ----------------------------------------------------
    function showToast(messageKey) {
        toastMessage.textContent = translations[htmlEl.getAttribute('lang')][messageKey];
        toast.classList.add('visible');
        
        setTimeout(() => {
            toast.classList.remove('visible');
        }, 3000);
    }

    // ----------------------------------------------------
    // 13. Particle Background
    // ----------------------------------------------------
    function createParticles() {
        const particleCount = 30;
        
        for (let i = 0; i < particleCount; i++) {
            const particle = document.createElement('div');
            particle.classList.add('particle');
            
            // Random properties
            const size = Math.random() * 3 + 1;
            const posX = Math.random() * 100;
            const posY = Math.random() * 100;
            const delay = Math.random() * 15;
            const duration = Math.random() * 10 + 10;
            
            // Apply properties
            particle.style.width = `${size}px`;
            particle.style.height = `${size}px`;
            particle.style.left = `${posX}%`;
            particle.style.top = `${posY}%`;
            particle.style.animationDelay = `${delay}s`;
            particle.style.animationDuration = `${duration}s`;
            
            particlesContainer.appendChild(particle);
        }
    }
    
    // ----------------------------------------------------
    // 14. Google Analytics
    // ----------------------------------------------------
    function initGoogleAnalytics() {
      // Replace with your GA4 measurement ID
      const GA_MEASUREMENT_ID = 'G-3XK98YF9PW';
      
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', GA_MEASUREMENT_ID);
    }

    // ----------------------------------------------------
    // 15. نظام متابعة الزوار
    // ----------------------------------------------------
    function initVisitorTracking() {
      const stats = JSON.parse(localStorage.getItem('visitorStats') || '{"pageViews": 0, "lastVisit": null}');
      
      // زيادة عدد المشاهدات
      stats.pageViews = (stats.pageViews || 0) + 1;
      stats.lastVisit = new Date().toISOString();
      
      localStorage.setItem('visitorStats', JSON.stringify(stats));
      
      // تتبع النقرات
      document.addEventListener('click', (e) => {
        const target = e.target.closest('a');
        if (target) {
          const linkStats = JSON.parse(localStorage.getItem('linkStats') || '{}');
          const href = target.getAttribute('href');
          linkStats[href] = (linkStats[href] || 0) + 1;
          localStorage.setItem('linkStats', JSON.stringify(linkStats));
        }
      });
      
      // تتبع التمرير
      let maxScroll = 0;
      window.addEventListener('scroll', () => {
        const currentScroll = (window.scrollY / (document.documentElement.scrollHeight - window.innerHeight)) * 100;
        if (currentScroll > maxScroll) {
          maxScroll = currentScroll;
          localStorage.setItem('maxScrollDepth', Math.round(maxScroll));
        }
      });
    }

    // ----------------------------------------------------
    // 16. تهيئة جميع الميزات
    // ----------------------------------------------------
    function initAllFeatures() {
      initFloatingElements();
      initParallax();
      initImageLoading();
      registerServiceWorker();
      createParticles();
      initGoogleAnalytics();
      initVisitorTracking();
    }

    // ----------------------------------------------------
    // 17. إضافة مستمعي الأحداث
    // ----------------------------------------------------
    document.addEventListener('DOMContentLoaded', () => {
      initAllFeatures();
    });

    langSwitcher.addEventListener('click', (e) => {
      e.preventDefault();
      toggleLanguage();
    });

    themeToggle.addEventListener('click', toggleTheme);
    
    // Smooth scrolling for anchor links
    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener('click', function (e) {
            e.preventDefault();
            const targetId = this.getAttribute('href');
            if (targetId === '#') return;
            
            const targetElement = document.querySelector(targetId);
            if (targetElement) {
                const headerHeight = header.offsetHeight;
                const targetPosition = targetElement.offsetTop - headerHeight;
                
                window.scrollTo({
                    top: targetPosition,
                    behavior: 'smooth'
                });
            }
        });
    });

  </script>

</body>
</html>
