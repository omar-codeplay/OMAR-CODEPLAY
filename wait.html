<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Wait</title>
    <link rel="stylesheet" href="css/wait.css">
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-3758016323496227"
    crossorigin="anonymous"></script>
    <meta name="google-adsense-account" content="ca-pub-3758016323496227">
</head>
<body>
    <div class="wait-container">
        <h1>Please wait while we prepare your content...</h1>
        <p>You will be redirected in <span id="countdown">30</span> seconds.</p>
        <button id="start-button" style="display: none;">Start Download</button>
    </div>

    <script>
        // Countdown timer
        let countdown = 30;
        const countdownElement = document.getElementById('countdown');
        const startButton = document.getElementById('start-button');
        let timer;

        function startTimer() {
            timer = setInterval(() => {
                countdown--;
                countdownElement.textContent = countdown;

                if (countdown <= 0) {
                    clearInterval(timer);
                    startButton.style.display = 'block'; // Show the button after countdown ends
                }
            }, 1000);
        }

        function stopTimer() {
            clearInterval(timer);
        }

        function startDownload() {
            const downloadUrl = 'https://www.mediafire.com/file/igl7cr1qkf3uh03/SCH.apk/file'; // Replace with the URL of the file to download
            const link = document.createElement('a');
            link.href = downloadUrl;
            link.download = ''; // Optional: specify a default file name
            document.body.appendChild(link);
            link.click();
            document.body.removeChild(link);
        }

        // Start the timer when the page is visible
        document.addEventListener('visibilitychange', function() {
            if (document.visibilityState === 'visible') {
                if (countdown > 0) {
                    startTimer();
                }
            } else {
                stopTimer();
            }
        });

        // Start the timer initially
        startTimer();

        startButton.addEventListener('click', function() {
            const savedNextPageUrl = localStorage.getItem('nextPageUrl');
            if (savedNextPageUrl) {
                window.location.href = savedNextPageUrl;
            } else {
                document.body.innerHTML = '<h1>URL not found</h1>';
            }
        });
    </script>
</body>
</html>
